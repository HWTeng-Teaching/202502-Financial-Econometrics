# Hausman Test for Endogeneity in R

This example demonstrates how to conduct a Hausman test for endogeneity in an investment equation using R, interpret the results,並用Markdown與程式註解呈現手寫筆記的內容。

---

## 1. 模型設定

$$
I_t = \beta_1 + \beta_2 P_t + \beta_3 P_{t-1} + \beta_4 K_{t-1} + \delta v_t + e_{2t}
$$

其中 \( v_t \) 是第一階段回歸殘差，用於檢驗 \( P_t \) 是否為內生變數。

---

## 2. R程式碼
#(c)
klein_complete$v_hat <- resid(profit_rf)
investment_hausman <- lm(i ~ p + plag + klag + v_hat, data = klein_complete)
summary(investment_hausman)

---

## 3. 結果解讀

![messageImage_1748050980836](https://github.com/user-attachments/assets/7c95ff93-58db-4faf-8b03-64ae33ef0f7f)

- \( v_{\text{hat}} \) 的係數顯著（p-value = 0.000972 < 0.05）
- 帶入殘差後，殘差項在迴歸中高度顯著，代表 \( P \) 與誤差項 \( e_{2t} \) 相關
- 因此，\( P \) 是內生變數（endogenous）

---

## 4. 假設檢定

- \( H_0: \delta = 0 \)（\( P \) 外生）
- \( H_1: \delta \neq 0 \)（\( P \) 內生）

由於 p-value < 0.05，拒絕虛無假設，**P 是內生變數**。

---

## 5. 中文摘要

- \( v_{\text{hat}} \) 在迴歸中高度顯著，也表示 \( P \) 和 \( e_{2t} \) 相關
- \( P \) 是 endogenous

---

